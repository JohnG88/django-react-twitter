{"ast":null,"code":"import _wrapRegExp from\"C:/Users/johna/Documents/django-twitter-react/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapRegExp\";import _slicedToArray from\"C:/Users/johna/Documents/django-twitter-react/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{ActionBtn}from\"./buttons\";import{UserDisplay,UserPicture}from'../profiles';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function ParentTweet(props){var tweet=props.tweet;return/*#__PURE__*/_jsx(_Fragment,{children:tweet.parent?/*#__PURE__*/_jsx(Tweet,{isRetweet:true,retweeter:props.retweeter,hideActions:true,className:\" \",tweet:tweet.parent}):null});}export function Tweet(props){var tweet=props.tweet,didRetweet=props.didRetweet,hideActions=props.hideActions,isRetweet=props.isRetweet,retweeter=props.retweeter;var _useState=useState(props.tweet?props.tweet:null),_useState2=_slicedToArray(_useState,2),actionTweet=_useState2[0],setActionTweet=_useState2[1];var className=props.className?props.className:\"col-10 mx-auto col-md-6\";className=isRetweet===true?\"\".concat(className,\" p-2 border rounded\"):className;var path=window.location.pathname;var match=path.match(/*#__PURE__*/_wrapRegExp(/([0-9]+)/,{tweetid:1}));var urlTweetId=match?match.groups.tweetid:-1;var isDetail=\"\".concat(tweet.id)===\"\".concat(urlTweetId);var handleLink=function handleLink(event){event.preventDefault();window.location.href=\"/\".concat(tweet.id);};var handlePerformAction=function handlePerformAction(newActionTweet,status){if(status===200){setActionTweet(newActionTweet);}else if(status===201){// let the tweet list know.\nif(didRetweet){didRetweet(newActionTweet);}}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:className,children:[isRetweet===true&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"small text-muted\",children:[\"Retweet via \",/*#__PURE__*/_jsx(UserDisplay,{user:retweeter})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:/*#__PURE__*/_jsx(UserPicture,{user:tweet.user})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-11\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(UserDisplay,{includeFullName:true,user:tweet.user})}),/*#__PURE__*/_jsx(\"p\",{children:tweet.content}),/*#__PURE__*/_jsx(ParentTweet,{tweet:tweet,retweeter:tweet.user})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn btn-group px-0\",children:[actionTweet&&hideActions!==true&&/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"like\",display:\"Likes\"}}),/*#__PURE__*/_jsx(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"unlike\",display:\"Unlike\"}}),/*#__PURE__*/_jsx(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"retweet\",display:\"Retweet\"}})]}),isDetail===true?null:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary btn-sm\",onClick:handleLink,children:\"View\"})]})]})]})]})});}","map":{"version":3,"sources":["C:/Users/johna/Documents/django-twitter-react/tweetme2/tweetme2-web/src/tweets/detail.js"],"names":["React","useState","ActionBtn","UserDisplay","UserPicture","ParentTweet","props","tweet","parent","retweeter","Tweet","didRetweet","hideActions","isRetweet","actionTweet","setActionTweet","className","path","window","location","pathname","match","urlTweetId","groups","tweetid","isDetail","id","handleLink","event","preventDefault","href","handlePerformAction","newActionTweet","status","user","content","type","display"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { ActionBtn } from \"./buttons\";\r\nimport {UserDisplay, UserPicture} from '../profiles'\r\n\r\n\r\nexport function ParentTweet(props) {\r\n    const { tweet } = props;\r\n    return (\r\n        <>\r\n            {tweet.parent ? \r\n                <Tweet isRetweet retweeter={props.retweeter} hideActions className={\" \"} tweet={tweet.parent} /> : null}\r\n        </>\r\n    );\r\n}\r\n\r\nexport function Tweet(props) {\r\n    const { tweet, didRetweet, hideActions, isRetweet, retweeter } = props;\r\n    const [actionTweet, setActionTweet] = useState(\r\n        props.tweet ? props.tweet : null\r\n    );\r\n    let className = props.className\r\n        ? props.className\r\n        : \"col-10 mx-auto col-md-6\";\r\n    className = isRetweet === true ? `${className} p-2 border rounded` : className\r\n    const path = window.location.pathname;\r\n    const match = path.match(/(?<tweetid>\\d+)/);\r\n    const urlTweetId = match ? match.groups.tweetid : -1;\r\n\r\n    const isDetail = `${tweet.id}` === `${urlTweetId}`;\r\n    const handleLink = (event) => {\r\n        event.preventDefault();\r\n        window.location.href = `/${tweet.id}`;\r\n    };\r\n    const handlePerformAction = (newActionTweet, status) => {\r\n        if (status === 200) {\r\n            setActionTweet(newActionTweet);\r\n        } else if (status === 201) {\r\n            // let the tweet list know.\r\n            if (didRetweet) {\r\n                didRetweet(newActionTweet);\r\n            }\r\n        }\r\n    };\r\n    return (\r\n        <>\r\n            <div className={className}>\r\n                {isRetweet === true && \r\n                    <div className='mb-2'>\r\n                        <span className='small text-muted'>Retweet via <UserDisplay user={retweeter}/></span>\r\n                    </div>}\r\n                <div className=\"d-flex\">\r\n                    <div className=\"col-1\">\r\n                        <UserPicture user={tweet.user} />\r\n                    </div>\r\n                    <div className=\"col-11\">\r\n                        <div>\r\n                            <p>\r\n                            <UserDisplay includeFullName user={tweet.user}/>\r\n                            </p>\r\n                            <p>{tweet.content}</p>\r\n                            <ParentTweet tweet={tweet} retweeter={tweet.user} />\r\n                        </div>\r\n                        {/* if actionTweet and hideActions are not = to true then hide the buttons */}\r\n                        <div className=\"btn btn-group px-0\">\r\n                            {actionTweet && hideActions !== true && (\r\n                                <React.Fragment>\r\n                                    <ActionBtn\r\n                                        tweet={actionTweet}\r\n                                        didPerformAction={handlePerformAction}\r\n                                        action={{\r\n                                            type: \"like\",\r\n                                            display: \"Likes\",\r\n                                        }}\r\n                                    />\r\n                                    <ActionBtn\r\n                                        tweet={actionTweet}\r\n                                        didPerformAction={handlePerformAction}\r\n                                        action={{\r\n                                            type: \"unlike\",\r\n                                            display: \"Unlike\",\r\n                                        }}\r\n                                    />\r\n                                    <ActionBtn\r\n                                        tweet={actionTweet}\r\n                                        didPerformAction={handlePerformAction}\r\n                                        action={{\r\n                                            type: \"retweet\",\r\n                                            display: \"Retweet\",\r\n                                        }}\r\n                                    />\r\n                                </React.Fragment>\r\n                            )}\r\n                            {isDetail === true ? null : (\r\n                                <button\r\n                                    className=\"btn btn-outline-primary btn-sm\"\r\n                                    onClick={handleLink}\r\n                                >\r\n                                    View\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}