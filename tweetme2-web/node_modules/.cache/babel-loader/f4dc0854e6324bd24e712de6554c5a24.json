{"ast":null,"code":"import React from\"react\";import{apiTweetAction}from\"./lookup\";import{jsx as _jsx}from\"react/jsx-runtime\";export function ActionBtn(props){var tweet=props.tweet,action=props.action,didPerformAction=props.didPerformAction;var likes=tweet.likes?tweet.likes:0;// remember likes is variable and setLikes is to update variable\n// const [likes, setLikes] = useState(tweet.likes ? tweet.likes : 0);\n// const [userLike, setUserLike] = useState(tweet.userLike === true ? true : false);\nvar className=props.className?props.className:\"btn btn-primary btn-sm\";// if action.display then show action.display else show 'Action'\nvar actionDisplay=action.display?action.display:\"Action\";// if action type = 'like' show tweet likes actionDisplay, else show actionDisplay\nvar display=action.type===\"like\"?\"\".concat(likes,\" \").concat(actionDisplay):actionDisplay;var handleActionBackendEvent=function handleActionBackendEvent(response,status){console.log(response,status);if((status===200||status===201)&&didPerformAction){// setLikes(response.likes);\ndidPerformAction(response,status);// setUserLike(true)\n}};var handleClick=function handleClick(event){event.preventDefault();apiTweetAction(tweet.id,action.type,handleActionBackendEvent);};return/*#__PURE__*/_jsx(\"button\",{className:className,onClick:handleClick,children:display});}","map":{"version":3,"sources":["C:/Users/johna/Documents/django-twitter-react/tweetme2/tweetme2-web/src/tweets/buttons.js"],"names":["React","apiTweetAction","ActionBtn","props","tweet","action","didPerformAction","likes","className","actionDisplay","display","type","handleActionBackendEvent","response","status","console","log","handleClick","event","preventDefault","id"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,cAAT,KAA+B,UAA/B,C,2CAEA,MAAO,SAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAA0B,CAC7B,GAAQC,CAAAA,KAAR,CAA4CD,KAA5C,CAAQC,KAAR,CAAeC,MAAf,CAA4CF,KAA5C,CAAeE,MAAf,CAAuBC,gBAAvB,CAA4CH,KAA5C,CAAuBG,gBAAvB,CACA,GAAMC,CAAAA,KAAK,CAAGH,KAAK,CAACG,KAAN,CAAcH,KAAK,CAACG,KAApB,CAA4B,CAA1C,CACA;AACA;AACA;AACA,GAAMC,CAAAA,SAAS,CAAGL,KAAK,CAACK,SAAN,CACZL,KAAK,CAACK,SADM,CAEZ,wBAFN,CAGA;AACA,GAAMC,CAAAA,aAAa,CAAGJ,MAAM,CAACK,OAAP,CAAiBL,MAAM,CAACK,OAAxB,CAAkC,QAAxD,CACA;AACA,GAAMA,CAAAA,OAAO,CACTL,MAAM,CAACM,IAAP,GAAgB,MAAhB,WAA4BJ,KAA5B,aAAqCE,aAArC,EAAuDA,aAD3D,CAEA,GAAMG,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,CAACC,QAAD,CAAWC,MAAX,CAAsB,CACnDC,OAAO,CAACC,GAAR,CAAYH,QAAZ,CAAsBC,MAAtB,EACA,GAAI,CAACA,MAAM,GAAK,GAAX,EAAkBA,MAAM,GAAK,GAA9B,GAAsCR,gBAA1C,CAA4D,CACxD;AACAA,gBAAgB,CAACO,QAAD,CAAWC,MAAX,CAAhB,CACA;AACH,CACJ,CAPD,CAQA,GAAMG,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC3BA,KAAK,CAACC,cAAN,GACAlB,cAAc,CAACG,KAAK,CAACgB,EAAP,CAAWf,MAAM,CAACM,IAAlB,CAAwBC,wBAAxB,CAAd,CACH,CAHD,CAIA,mBACI,eAAQ,SAAS,CAAEJ,SAAnB,CAA8B,OAAO,CAAES,WAAvC,UACKP,OADL,EADJ,CAKH","sourcesContent":["import React from \"react\";\r\n\r\nimport { apiTweetAction } from \"./lookup\";\r\n\r\nexport function ActionBtn(props) {\r\n    const { tweet, action, didPerformAction } = props;\r\n    const likes = tweet.likes ? tweet.likes : 0\r\n    // remember likes is variable and setLikes is to update variable\r\n    // const [likes, setLikes] = useState(tweet.likes ? tweet.likes : 0);\r\n    // const [userLike, setUserLike] = useState(tweet.userLike === true ? true : false);\r\n    const className = props.className\r\n        ? props.className\r\n        : \"btn btn-primary btn-sm\";\r\n    // if action.display then show action.display else show 'Action'\r\n    const actionDisplay = action.display ? action.display : \"Action\";\r\n    // if action type = 'like' show tweet likes actionDisplay, else show actionDisplay\r\n    const display =\r\n        action.type === \"like\" ? `${likes} ${actionDisplay}` : actionDisplay;\r\n    const handleActionBackendEvent = (response, status) => {\r\n        console.log(response, status);\r\n        if ((status === 200 || status === 201) && didPerformAction) {\r\n            // setLikes(response.likes);\r\n            didPerformAction(response, status)\r\n            // setUserLike(true)\r\n        }\r\n    };\r\n    const handleClick = (event) => {\r\n        event.preventDefault();\r\n        apiTweetAction(tweet.id, action.type, handleActionBackendEvent);\r\n    };\r\n    return (\r\n        <button className={className} onClick={handleClick}>\r\n            {display}\r\n        </button>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}