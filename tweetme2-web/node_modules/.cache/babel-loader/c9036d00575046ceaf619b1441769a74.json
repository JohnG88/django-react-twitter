{"ast":null,"code":"import _wrapRegExp from\"C:/Users/johna/Documents/django-twitter-react/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapRegExp\";import _slicedToArray from\"C:/Users/johna/Documents/django-twitter-react/tweetme2/tweetme2-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{ActionBtn}from'./buttons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function ParentTweet(props){var tweet=props.tweet;return/*#__PURE__*/_jsx(_Fragment,{children:tweet.parent?/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-11 mx-auto p-3 border rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 text-muted small\",children:\"Retweet\"}),/*#__PURE__*/_jsx(Tweet,{hideActions:true,className:\" \",tweet:tweet.parent})]})}):null});}export function Tweet(props){var tweet=props.tweet,didRetweet=props.didRetweet,hideActions=props.hideActions;var _useState=useState(props.tweet?props.tweet:null),_useState2=_slicedToArray(_useState,2),actionTweet=_useState2[0],setActionTweet=_useState2[1];var className=props.className?props.className:\"col-10 mx-auto col-md-6\";var path=window.location.pathname;var match=path.match(/*#__PURE__*/_wrapRegExp(/([0-9]+)/,{tweetid:1}));var urlTweetId=match?match.groups.tweetid:-1;var isDetail=\"\".concat(tweet.id)===\"\".concat(urlTweetId);var handleLink=function handleLink(event){event.preventDefault();window.location.href=\"/\".concat(tweet.id);};var handlePerformAction=function handlePerformAction(newActionTweet,status){if(status===200){setActionTweet(newActionTweet);}else if(status===201){// let the tweet list know.\nif(didRetweet){didRetweet(newActionTweet);}}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:className,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[tweet.id,\" - \",tweet.content]}),/*#__PURE__*/_jsx(ParentTweet,{tweet:tweet})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn btn-group\",children:[actionTweet&&hideActions!==true&&/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"like\",display:\"Likes\"}}),/*#__PURE__*/_jsx(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"unlike\",display:\"Unlike\"}}),/*#__PURE__*/_jsx(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"retweet\",display:\"Retweet\"}})]}),isDetail===true?null:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary btn-sm\",onClick:handleLink,children:\"View\"})]})]})});}","map":{"version":3,"sources":["C:/Users/johna/Documents/django-twitter-react/tweetme2/tweetme2-web/src/tweets/detail.js"],"names":["React","useState","ActionBtn","ParentTweet","props","tweet","parent","Tweet","didRetweet","hideActions","actionTweet","setActionTweet","className","path","window","location","pathname","match","urlTweetId","groups","tweetid","isDetail","id","handleLink","event","preventDefault","href","handlePerformAction","newActionTweet","status","content","type","display"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\r\nimport {ActionBtn} from './buttons'\r\n\r\nexport function ParentTweet(props) {\r\n    const { tweet } = props;\r\n    return (\r\n        <>\r\n            {tweet.parent ? (\r\n                <div className=\"row\">\r\n                    <div className=\"col-11 mx-auto p-3 border rounded\">\r\n                        <p className=\"mb-0 text-muted small\">Retweet</p>\r\n                        <Tweet hideActions className=\" \" tweet={tweet.parent} />\r\n                    </div>\r\n                </div>\r\n            ) : null}\r\n        </>\r\n    );\r\n}\r\n\r\nexport function Tweet(props) {\r\n    const { tweet, didRetweet, hideActions } = props;\r\n    const [actionTweet, setActionTweet] = useState(\r\n        props.tweet ? props.tweet : null\r\n    );\r\n    const className = props.className\r\n        ? props.className\r\n        : \"col-10 mx-auto col-md-6\";\r\n    const path = window.location.pathname\r\n    const match = path.match(/(?<tweetid>\\d+)/)\r\n    const urlTweetId = match ? match.groups.tweetid : -1\r\n        \r\n    const isDetail = `${tweet.id}` === `${urlTweetId}`\r\n    const handleLink = (event) => {\r\n        event.preventDefault()\r\n        window.location.href = `/${tweet.id}`\r\n    }\r\n    const handlePerformAction = (newActionTweet, status) => {\r\n        if (status === 200) {\r\n            setActionTweet(newActionTweet)\r\n        } else if (status === 201) {\r\n            // let the tweet list know.\r\n            if (didRetweet) {\r\n                didRetweet(newActionTweet)\r\n            }\r\n        }\r\n        \r\n    }\r\n    return (\r\n        <>\r\n            <div className={className}>\r\n                <div>\r\n                    <p>\r\n                        {tweet.id} - {tweet.content}\r\n                    </p>\r\n                    <ParentTweet tweet={tweet} />\r\n                </div>\r\n                {/* if actionTweet and hideActions are not = to true then hide the buttons */}\r\n                    <div className=\"btn btn-group\">\r\n                    {(actionTweet && hideActions !== true) && <React.Fragment>\r\n                            <ActionBtn\r\n                                tweet={actionTweet}\r\n                                didPerformAction={handlePerformAction}\r\n                                action={{ type: \"like\", display: \"Likes\" }}\r\n                            />\r\n                            <ActionBtn\r\n                                tweet={actionTweet}\r\n                                didPerformAction={handlePerformAction}\r\n                                action={{ type: \"unlike\", display: \"Unlike\" }}\r\n                            />\r\n                            <ActionBtn\r\n                                tweet={actionTweet}\r\n                                didPerformAction={handlePerformAction}\r\n                                action={{ type: \"retweet\", display: \"Retweet\" }}\r\n                            />\r\n                        </React.Fragment>}\r\n                        {isDetail === true ? null : <button className=\"btn btn-outline-primary btn-sm\" onClick={handleLink}>View</button>}\r\n                    </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}