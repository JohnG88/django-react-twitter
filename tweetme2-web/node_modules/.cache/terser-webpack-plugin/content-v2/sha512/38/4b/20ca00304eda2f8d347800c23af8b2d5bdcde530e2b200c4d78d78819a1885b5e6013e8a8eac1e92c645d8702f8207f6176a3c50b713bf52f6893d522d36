{"code":"(this[\"webpackJsonptweetme2-web\"]=this[\"webpackJsonptweetme2-web\"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){\"use strict\";n.r(t);var c=n(1),a=n.n(c),s=n(7),r=n.n(s);n(14);function o(e,t,n,c){var a;c&&(a=JSON.stringify(c));var s=new XMLHttpRequest,r=\"http://127.0.0.1:8000/api\".concat(t);s.responseType=\"json\",s.open(e,r);var o=function(e){var t=null;if(document.cookie&&\"\"!==document.cookie)for(var n=document.cookie.split(\";\"),c=0;c<n.length;c++){var a=n[c].trim();if(a.substring(0,e.length+1)===e+\"=\"){t=decodeURIComponent(a.substring(e.length+1));break}}return t}(\"csrftoken\");s.setRequestHeader(\"Content-Type\",\"application/json\"),o&&(s.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),s.setRequestHeader(\"X-CSRFToken\",o)),s.onload=function(){403===s.status&&(\"Authentication credentials were not provided.\"===s.response.detail&&(window.location.href=\"/login?showLoginRequired=true\"));n(s.response,s.status)},s.onerror=function(e){console.log(\"error\",e),n({message:\"The request was an error.\"},400)},s.send(a)}var i=n(0);function l(e){var t=e.tweet,n=e.action,c=e.didPerformAction,a=t.likes?t.likes:0,s=e.className?e.className:\"btn btn-primary btn-sm\",r=n.display?n.display:\"Action\",l=\"like\"===n.type?\"\".concat(a,\" \").concat(r):r,u=function(e,t){console.log(e,t),200!==t&&201!==t||!c||c(e,t)};return Object(i.jsx)(\"button\",{className:s,onClick:function(e){e.preventDefault(),function(e,t,n){o(\"POST\",\"/tweets/action/\",n,{id:e,action:t})}(t.id,n.type,u)},children:l})}var u=n(8),d=n(2);function b(e){var t=e.tweet;return Object(i.jsx)(i.Fragment,{children:t.parent?Object(i.jsx)(\"div\",{className:\"row\",children:Object(i.jsxs)(\"div\",{className:\"col-11 mx-auto p-3 border rounded\",children:[Object(i.jsx)(\"p\",{className:\"mb-0 text-muted small\",children:\"Retweet\"}),Object(i.jsx)(j,{hideActions:!0,className:\" \",tweet:t.parent})]})}):null})}function j(e){var t=e.tweet,n=e.didRetweet,s=e.hideActions,r=Object(c.useState)(e.tweet?e.tweet:null),o=Object(d.a)(r,2),j=o[0],m=o[1],f=e.className?e.className:\"col-10 mx-auto col-md-6\",w=window.location.pathname.match(Object(u.a)(/([0-9]+)/,{tweetid:1})),O=w?w.groups.tweetid:-1,p=\"\".concat(t.id)===\"\".concat(O),h=function(e,t){200===t?m(e):201===t&&n&&n(e)};return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(\"div\",{className:f,children:[Object(i.jsxs)(\"div\",{children:[Object(i.jsxs)(\"p\",{children:[t.id,\" - \",t.content]}),Object(i.jsx)(b,{tweet:t})]}),Object(i.jsxs)(\"div\",{className:\"btn btn-group\",children:[j&&!0!==s&&Object(i.jsxs)(a.a.Fragment,{children:[Object(i.jsx)(l,{tweet:j,didPerformAction:h,action:{type:\"like\",display:\"Likes\"}}),Object(i.jsx)(l,{tweet:j,didPerformAction:h,action:{type:\"unlike\",display:\"Unlike\"}}),Object(i.jsx)(l,{tweet:j,didPerformAction:h,action:{type:\"retweet\",display:\"Retweet\"}})]}),!0===p?null:Object(i.jsx)(\"button\",{className:\"btn btn-outline-primary btn-sm\",onClick:function(e){e.preventDefault(),window.location.href=\"/\".concat(t.id)},children:\"View\"})]})]})})}var m=n(3);function f(e){var t=Object(c.useState)([]),n=Object(d.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)([]),l=Object(d.a)(r,2),u=l[0],b=l[1],f=Object(c.useState)(!1),w=Object(d.a)(f,2),O=w[0],p=w[1];Object(c.useEffect)((function(){var t=Object(m.a)(e.newTweets).concat(a);t.length!==u.length&&b(t)}),[e.newTweets,u,a]),Object(c.useEffect)((function(){if(!1===O){!function(e,t){var n=\"/tweets/\";e&&(n=\"/tweets/?username=\".concat(e)),o(\"GET\",n,t)}(e.username,(function(e,t){200===t?(s(e),p(!0)):alert(\"There was an error!\")}))}}),[a,O,p,e.username]);var h=function(e){var t=Object(m.a)(a);t.unshift(e),s(t);var n=Object(m.a)(u);n.unshift(u),b(n)};return u.map((function(e,t){return Object(i.jsx)(j,{tweet:e,didRetweet:h,className:\"col-12 col-md-10 mx-auto mb-4 tweet border rounded py-3\"},\"\".concat(t,\"-{item.id}\"))}))}var w=n(9);function O(e){console.log(e);var t=a.a.createRef(),n=e.didTweet,c=function(e,t){201===t?n(e):(console.log(e),alert(\"An error occurred please try again.\"))};return Object(i.jsx)(\"div\",{className:e.className,children:Object(i.jsxs)(\"form\",{onSubmit:function(e){e.preventDefault(),console.log(e);var n=t.current.value;o(\"POST\",\"/tweets/create/\",c,{content:n}),t.current.value=\"\"},children:[Object(i.jsx)(\"textarea\",{ref:t,required:!0,className:\"form-control\",name:\"tweet\"}),Object(i.jsx)(\"button\",{type:\"submit\",className:\"btn btn-primary my-3\",children:\"Tweet\"})]})})}function p(e){var t=e.tweetId,n=Object(c.useState)(!1),a=Object(d.a)(n,2),s=a[0],r=a[1],l=Object(c.useState)(null),u=Object(d.a)(l,2),b=u[0],m=u[1],f=function(e,t){200===t?m(e):alert(\"There was an error finding your tweet.\")};return Object(c.useEffect)((function(){!1===s&&(!function(e,t){o(\"GET\",\"/tweets/\".concat(e),t)}(t,f),r(!0))}),[s,r]),null===b?null:Object(i.jsx)(j,{tweet:b,className:e.className})}var h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))},v=a.a.createElement,x=document.getElementById(\"tweetme-2\");x&&(console.log(x.dataset),r.a.render(v((function(e){var t=Object(c.useState)([]),n=Object(d.a)(t,2),a=n[0],s=n[1],r=\"false\"!==e.canTweet;return Object(i.jsxs)(\"div\",{className:e.className,children:[!0===r&&Object(i.jsx)(O,{didTweet:function(e){var t=Object(m.a)(a);t.unshift(e),s(t)},className:\"col-12 mb-3\"}),Object(i.jsx)(f,Object(w.a)({newTweets:a},e))]})}),x.dataset),x)),document.querySelectorAll(\".tweetme-2-detail\").forEach((function(e){r.a.render(v(p,e.dataset),e)})),h()}},[[16,1,2]]]);","name":"static/js/main.c6591476.chunk.js","map":{"version":3,"sources":["static/js/main.c6591476.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","backendLookup","method","endpoint","callback","data","jsonData","JSON","stringify","xhr","XMLHttpRequest","url","concat","responseType","open","csrftoken","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","setRequestHeader","onload","status","response","detail","window","location","href","onerror","e","console","log","message","send","jsx_runtime","ActionBtn","props","tweet","action","didPerformAction","likes","className","actionDisplay","display","type","handleActionBackendEvent","Object","onClick","event","preventDefault","tweetId","id","apiTweetAction","children","wrapRegExp","slicedToArray","ParentTweet","parent","Tweet","hideActions","didRetweet","_useState","_useState2","actionTweet","setActionTweet","match","pathname","tweetid","urlTweetId","groups","isDetail","handlePerformAction","newActionTweet","content","a","Fragment","toConsumableArray","TweetsList","tweetsInit","setTweetsInit","_useState3","_useState4","tweets","setTweets","_useState5","_useState6","tweetsDidSet","setTweetsDidSet","final","newTweets","username","apiTweetList","alert","handleDidRetweet","newTweet","updateTweetsInit","unshift","updateFinalTweets","map","item","index","objectSpread2","TweetCreate","textAreaRef","createRef","didTweet","handleBackendUpdate","onSubmit","newVal","current","value","ref","required","TweetDetailComponent","didLookup","setDidLookup","setTweet","handleBackendLookup","apiTweetDetail","src_reportWebVitals","onPerfEntry","Function","then","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","createElement","tweetsEl","getElementById","dataset","render","setNewTweets","canTweet","tempNewTweets","querySelectorAll","forEach","container"],"mappings":"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"},"input":"(this[\"webpackJsonptweetme2-web\"] = this[\"webpackJsonptweetme2-web\"] || []).push([[0],{\n\n/***/ 14:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 16:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(7);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(14);\n\n// CONCATENATED MODULE: ./src/lookup/components.js\nfunction getCookie(name){var cookieValue=null;if(document.cookie&&document.cookie!==''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=cookies[i].trim();// Does this cookie string begin with the name we want?\nif(cookie.substring(0,name.length+1)===name+'='){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}return cookieValue;}function backendLookup(method,endpoint,callback,data){var jsonData;if(data){jsonData=JSON.stringify(data);}// New instance of class\nvar xhr=new XMLHttpRequest();// like python, xhr = new SomeClass()\nvar url=\"http://127.0.0.1:8000/api\".concat(endpoint);xhr.responseType='json';xhr.open(method,url);var csrftoken=getCookie('csrftoken');xhr.setRequestHeader('Content-Type','application/json');if(csrftoken){// xhr.setRequestHeader('HTTP_X_REQUESTED_WITH', 'XMLHttpRequest')\nxhr.setRequestHeader('X-Requested-With','XMLHttpRequest');xhr.setRequestHeader('X-CSRFToken',csrftoken);}xhr.onload=function(){if(xhr.status===403){var detail=xhr.response.detail;if(detail==='Authentication credentials were not provided.'){window.location.href='/login?showLoginRequired=true';}}callback(xhr.response,xhr.status);};xhr.onerror=function(e){console.log('error',e);callback({message:\"The request was an error.\"},400);};// console.log(jsonData);\nxhr.send(jsonData);}\n// CONCATENATED MODULE: ./src/lookup/index.js\n\n// CONCATENATED MODULE: ./src/tweets/lookup.js\nfunction apiTweetCreate(newTweet,callback){backendLookup('POST','/tweets/create/',callback,{content:newTweet});}function apiTweetAction(tweetId,action,callback){var data={id:tweetId,action:action};backendLookup('POST','/tweets/action/',callback,data);}function apiTweetDetail(tweetId,callback){backendLookup('GET',\"/tweets/\".concat(tweetId),callback);}function apiTweetList(username,callback){var endpoint='/tweets/';if(username){endpoint=\"/tweets/?username=\".concat(username);}backendLookup('GET',endpoint,callback);}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/tweets/buttons.js\nfunction ActionBtn(props){var tweet=props.tweet,action=props.action,didPerformAction=props.didPerformAction;var likes=tweet.likes?tweet.likes:0;// remember likes is variable and setLikes is to update variable\n// const [likes, setLikes] = useState(tweet.likes ? tweet.likes : 0);\n// const [userLike, setUserLike] = useState(tweet.userLike === true ? true : false);\nvar className=props.className?props.className:\"btn btn-primary btn-sm\";// if action.display then show action.display else show 'Action'\nvar actionDisplay=action.display?action.display:\"Action\";// if action type = 'like' show tweet likes actionDisplay, else show actionDisplay\nvar display=action.type===\"like\"?\"\".concat(likes,\" \").concat(actionDisplay):actionDisplay;var handleActionBackendEvent=function handleActionBackendEvent(response,status){console.log(response,status);if((status===200||status===201)&&didPerformAction){// setLikes(response.likes);\ndidPerformAction(response,status);// setUserLike(true)\n}};var handleClick=function handleClick(event){event.preventDefault();apiTweetAction(tweet.id,action.type,handleActionBackendEvent);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:className,onClick:handleClick,children:display});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapRegExp.js + 10 modules\nvar wrapRegExp = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/tweets/detail.js\nfunction ParentTweet(props){var tweet=props.tweet;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:tweet.parent?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col-11 mx-auto p-3 border rounded\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"mb-0 text-muted small\",children:\"Retweet\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tweet,{hideActions:true,className:\" \",tweet:tweet.parent})]})}):null});}function Tweet(props){var tweet=props.tweet,didRetweet=props.didRetweet,hideActions=props.hideActions;var _useState=Object(react[\"useState\"])(props.tweet?props.tweet:null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),actionTweet=_useState2[0],setActionTweet=_useState2[1];var className=props.className?props.className:\"col-10 mx-auto col-md-6\";var path=window.location.pathname;var match=path.match(/*#__PURE__*/Object(wrapRegExp[\"a\" /* default */])(/([0-9]+)/,{tweetid:1}));var urlTweetId=match?match.groups.tweetid:-1;var isDetail=\"\".concat(tweet.id)===\"\".concat(urlTweetId);var handleLink=function handleLink(event){event.preventDefault();window.location.href=\"/\".concat(tweet.id);};var handlePerformAction=function handlePerformAction(newActionTweet,status){if(status===200){setActionTweet(newActionTweet);}else if(status===201){// let the tweet list know.\nif(didRetweet){didRetweet(newActionTweet);}}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:className,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[tweet.id,\" - \",tweet.content]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ParentTweet,{tweet:tweet})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"btn btn-group\",children:[actionTweet&&hideActions!==true&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"like\",display:\"Likes\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"unlike\",display:\"Unlike\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"retweet\",display:\"Retweet\"}})]}),isDetail===true?null:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-outline-primary btn-sm\",onClick:handleLink,children:\"View\"})]})]})});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/tweets/list.js\nfunction TweetsList(props){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),tweetsInit=_useState2[0],setTweetsInit=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),tweets=_useState4[0],setTweets=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),tweetsDidSet=_useState6[0],setTweetsDidSet=_useState6[1];Object(react[\"useEffect\"])(function(){var final=Object(toConsumableArray[\"a\" /* default */])(props.newTweets).concat(tweetsInit);if(final.length!==tweets.length){setTweets(final);}},[props.newTweets,tweets,tweetsInit]);Object(react[\"useEffect\"])(function(){if(tweetsDidSet===false){var handleTweetListLookup=function handleTweetListLookup(response,status){// console.log(response, status)\nif(status===200){setTweetsInit(response);setTweetsDidSet(true);}else{alert(\"There was an error!\");}};apiTweetList(props.username,handleTweetListLookup);}},[tweetsInit,tweetsDidSet,setTweetsDidSet,props.username]);var handleDidRetweet=function handleDidRetweet(newTweet){var updateTweetsInit=Object(toConsumableArray[\"a\" /* default */])(tweetsInit);updateTweetsInit.unshift(newTweet);setTweetsInit(updateTweetsInit);var updateFinalTweets=Object(toConsumableArray[\"a\" /* default */])(tweets);updateFinalTweets.unshift(tweets);setTweets(updateFinalTweets);};return tweets.map(function(item,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tweet,{tweet:item,didRetweet:handleDidRetweet,className:\"col-12 col-md-10 mx-auto mb-4 tweet border rounded py-3\"},\"\".concat(index,\"-{item.id}\"));});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./src/tweets/create.js\nfunction TweetCreate(props){console.log(props);// const {username} = props\n// createRef will allow to get value of textarea\nvar textAreaRef=/*#__PURE__*/react_default.a.createRef();var didTweet=props.didTweet;// const [newTweets, setNewTweets] = useState([]);\n// const canTweet = props.canTweet === 'false' ? false : true\nvar handleBackendUpdate=function handleBackendUpdate(response,status){// backend api response handler\n// let tempNewTweets = [...newTweets];\nif(status===201){// push sends to end of array, unshift to top of array\n// tempNewTweets.unshift(response);\ndidTweet(response);}else{console.log(response);alert(\"An error occurred please try again.\");}};var handleSubmit=function handleSubmit(event){event.preventDefault();console.log(event);var newVal=textAreaRef.current.value;// backend api request\napiTweetCreate(newVal,handleBackendUpdate);textAreaRef.current.value=\"\";};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:props.className,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{ref:textAreaRef,required:true,className:\"form-control\",name:\"tweet\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"btn btn-primary my-3\",children:\"Tweet\"})]})});}\n// CONCATENATED MODULE: ./src/tweets/components.js\nfunction TweetsComponent(props){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),newTweets=_useState2[0],setNewTweets=_useState2[1];var canTweet=props.canTweet==='false'?false:true;var handleNewTweet=function handleNewTweet(newTweet){var tempNewTweets=Object(toConsumableArray[\"a\" /* default */])(newTweets);tempNewTweets.unshift(newTweet);setNewTweets(tempNewTweets);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:props.className,children:[canTweet===true&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TweetCreate,{didTweet:handleNewTweet,className:\"col-12 mb-3\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TweetsList,Object(objectSpread2[\"a\" /* default */])({newTweets:newTweets},props))]});}function TweetDetailComponent(props){var tweetId=props.tweetId;var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),didLookup=_useState4[0],setDidLookup=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),tweet=_useState6[0],setTweet=_useState6[1];var handleBackendLookup=function handleBackendLookup(response,status){if(status===200){setTweet(response);}else{alert('There was an error finding your tweet.');}};Object(react[\"useEffect\"])(function(){if(didLookup===false){apiTweetDetail(tweetId,handleBackendLookup);setDidLookup(true);}},[didLookup,setDidLookup]);return tweet===null?null:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tweet,{tweet:tweet,className:props.className});}\n// CONCATENATED MODULE: ./src/tweets/index.js\n\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 17)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\n// import App from \"./App\";\n// ReactDOM.render(\n//     <React.StrictMode>\n//         <App />\n//     </React.StrictMode>,\n//     document.getElementById(\"root\")\n// );\n// lines below help to be able to use attributes from index.html div\nvar e=react_default.a.createElement;var tweetsEl=document.getElementById(\"tweetme-2\");if(tweetsEl){console.log(tweetsEl.dataset);react_dom_default.a.render(e(TweetsComponent,tweetsEl.dataset),tweetsEl);}var tweetDetailElements=document.querySelectorAll('.tweetme-2-detail');tweetDetailElements.forEach(function(container){react_dom_default.a.render(e(TweetDetailComponent,container.dataset),container);});// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[16,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\johna\\Documents\\django-twitter-react\\tweetme2\\tweetme2-web\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\johna\\Documents\\django-twitter-react\\tweetme2\\tweetme2-web\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\johna\\Documents\\django-twitter-react\\tweetme2\\tweetme2-web\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\johna\\Documents\\django-twitter-react\\tweetme2\\tweetme2-web\\src\\index.css","C:/Users/johna/Documents/django-twitter-react/tweetme2/tweetme2-web/src/lookup/components.js","C:/Users/johna/Documents/django-twitter-react/tweetme2/tweetme2-web/src/tweets/lookup.js","C:/Users/johna/Documents/django-twitter-react/tweetme2/tweetme2-web/src/tweets/buttons.js","C:/Users/johna/Documents/django-twitter-react/tweetme2/tweetme2-web/src/tweets/detail.js","C:/Users/johna/Documents/django-twitter-react/tweetme2/tweetme2-web/src/tweets/list.js","C:/Users/johna/Documents/django-twitter-react/tweetme2/tweetme2-web/src/tweets/create.js","C:/Users/johna/Documents/django-twitter-react/tweetme2/tweetme2-web/src/tweets/components.js","C:/Users/johna/Documents/django-twitter-react/tweetme2/tweetme2-web/src/reportWebVitals.js","C:/Users/johna/Documents/django-twitter-react/tweetme2/tweetme2-web/src/index.js"],"names":["getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","backendLookup","method","endpoint","callback","data","jsonData","JSON","stringify","xhr","XMLHttpRequest","url","responseType","open","csrftoken","setRequestHeader","onload","status","detail","response","window","location","href","onerror","e","console","log","message","send","apiTweetCreate","newTweet","content","apiTweetAction","tweetId","action","id","apiTweetDetail","apiTweetList","username","ActionBtn","props","tweet","didPerformAction","likes","className","actionDisplay","display","type","handleActionBackendEvent","handleClick","event","preventDefault","ParentTweet","parent","Tweet","didRetweet","hideActions","useState","actionTweet","setActionTweet","path","pathname","match","urlTweetId","groups","tweetid","isDetail","handleLink","handlePerformAction","newActionTweet","TweetsList","tweetsInit","setTweetsInit","tweets","setTweets","tweetsDidSet","setTweetsDidSet","useEffect","final","newTweets","concat","handleTweetListLookup","alert","handleDidRetweet","updateTweetsInit","unshift","updateFinalTweets","map","item","index","TweetCreate","textAreaRef","React","createRef","didTweet","handleBackendUpdate","handleSubmit","newVal","current","value","TweetsComponent","setNewTweets","canTweet","handleNewTweet","tempNewTweets","TweetDetailComponent","didLookup","setDidLookup","setTweet","handleBackendLookup","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","createElement","tweetsEl","getElementById","dataset","ReactDOM","render","tweetDetailElements","querySelectorAll","forEach","container"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","function getCookie(name) {\r\n    let cookieValue = null;\r\n    if (document.cookie && document.cookie !== '') {\r\n        const cookies = document.cookie.split(';');\r\n        for (let i = 0; i < cookies.length; i++) {\r\n            const cookie = cookies[i].trim();\r\n            // Does this cookie string begin with the name we want?\r\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return cookieValue;\r\n}\r\n\r\nexport function backendLookup(method, endpoint, callback, data) {\r\n    let jsonData;\r\n    if (data) {\r\n        jsonData = JSON.stringify(data)\r\n    }\r\n    // New instance of class\r\n    const xhr = new XMLHttpRequest(); // like python, xhr = new SomeClass()\r\n    \r\n    const url = `http://127.0.0.1:8000/api${endpoint}`;\r\n\r\n    xhr.responseType = 'json';\r\n    xhr.open(method, url);\r\n    const csrftoken = getCookie('csrftoken');\r\n    xhr.setRequestHeader('Content-Type', 'application/json')\r\n    if (csrftoken) {\r\n        // xhr.setRequestHeader('HTTP_X_REQUESTED_WITH', 'XMLHttpRequest')\r\n        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest')\r\n        xhr.setRequestHeader('X-CSRFToken', csrftoken)\r\n    }\r\n    xhr.onload = function () {\r\n        if (xhr.status === 403) {\r\n            const detail = xhr.response.detail\r\n            if (detail === 'Authentication credentials were not provided.') {\r\n                window.location.href = '/login?showLoginRequired=true'\r\n            }\r\n        }\r\n        callback(xhr.response, xhr.status);\r\n    };\r\n    xhr.onerror = function (e) {\r\n        console.log('error', e);\r\n        callback({ message: \"The request was an error.\" }, 400);\r\n    };\r\n    // console.log(jsonData);\r\n    xhr.send(jsonData);\r\n}\r\n\r\n","import {backendLookup} from '../lookup'\r\n\r\nexport function apiTweetCreate(newTweet, callback) {\r\n    backendLookup('POST', '/tweets/create/', callback, {content: newTweet})\r\n}\r\n\r\nexport function apiTweetAction(tweetId, action, callback) {\r\n    const data = {id: tweetId, action: action}\r\n    backendLookup('POST', '/tweets/action/', callback, data)\r\n}\r\n\r\nexport function apiTweetDetail(tweetId, callback) {\r\n    backendLookup('GET', `/tweets/${tweetId}`, callback)\r\n}\r\n\r\nexport function apiTweetList(username, callback) {\r\n    let endpoint = '/tweets/'\r\n    if (username) {\r\n        endpoint = `/tweets/?username=${username}`\r\n    }\r\n    backendLookup('GET', endpoint, callback)\r\n}","import React from \"react\";\r\n\r\nimport { apiTweetAction } from \"./lookup\";\r\n\r\nexport function ActionBtn(props) {\r\n    const { tweet, action, didPerformAction } = props;\r\n    const likes = tweet.likes ? tweet.likes : 0\r\n    // remember likes is variable and setLikes is to update variable\r\n    // const [likes, setLikes] = useState(tweet.likes ? tweet.likes : 0);\r\n    // const [userLike, setUserLike] = useState(tweet.userLike === true ? true : false);\r\n    const className = props.className\r\n        ? props.className\r\n        : \"btn btn-primary btn-sm\";\r\n    // if action.display then show action.display else show 'Action'\r\n    const actionDisplay = action.display ? action.display : \"Action\";\r\n    // if action type = 'like' show tweet likes actionDisplay, else show actionDisplay\r\n    const display =\r\n        action.type === \"like\" ? `${likes} ${actionDisplay}` : actionDisplay;\r\n    const handleActionBackendEvent = (response, status) => {\r\n        console.log(response, status);\r\n        if ((status === 200 || status === 201) && didPerformAction) {\r\n            // setLikes(response.likes);\r\n            didPerformAction(response, status)\r\n            // setUserLike(true)\r\n        }\r\n    };\r\n    const handleClick = (event) => {\r\n        event.preventDefault();\r\n        apiTweetAction(tweet.id, action.type, handleActionBackendEvent);\r\n    };\r\n    return (\r\n        <button className={className} onClick={handleClick}>\r\n            {display}\r\n        </button>\r\n    );\r\n}","import React, {useState} from 'react'\r\nimport {ActionBtn} from './buttons'\r\n\r\nexport function ParentTweet(props) {\r\n    const { tweet } = props;\r\n    return (\r\n        <>\r\n            {tweet.parent ? (\r\n                <div className=\"row\">\r\n                    <div className=\"col-11 mx-auto p-3 border rounded\">\r\n                        <p className=\"mb-0 text-muted small\">Retweet</p>\r\n                        <Tweet hideActions className=\" \" tweet={tweet.parent} />\r\n                    </div>\r\n                </div>\r\n            ) : null}\r\n        </>\r\n    );\r\n}\r\n\r\nexport function Tweet(props) {\r\n    const { tweet, didRetweet, hideActions } = props;\r\n    const [actionTweet, setActionTweet] = useState(\r\n        props.tweet ? props.tweet : null\r\n    );\r\n    const className = props.className\r\n        ? props.className\r\n        : \"col-10 mx-auto col-md-6\";\r\n    const path = window.location.pathname\r\n    const match = path.match(/(?<tweetid>\\d+)/)\r\n    const urlTweetId = match ? match.groups.tweetid : -1\r\n        \r\n    const isDetail = `${tweet.id}` === `${urlTweetId}`\r\n    const handleLink = (event) => {\r\n        event.preventDefault()\r\n        window.location.href = `/${tweet.id}`\r\n    }\r\n    const handlePerformAction = (newActionTweet, status) => {\r\n        if (status === 200) {\r\n            setActionTweet(newActionTweet)\r\n        } else if (status === 201) {\r\n            // let the tweet list know.\r\n            if (didRetweet) {\r\n                didRetweet(newActionTweet)\r\n            }\r\n        }\r\n        \r\n    }\r\n    return (\r\n        <>\r\n            <div className={className}>\r\n                <div>\r\n                    <p>\r\n                        {tweet.id} - {tweet.content}\r\n                    </p>\r\n                    <ParentTweet tweet={tweet} />\r\n                </div>\r\n                {/* if actionTweet and hideActions are not = to true then hide the buttons */}\r\n                    <div className=\"btn btn-group\">\r\n                    {(actionTweet && hideActions !== true) && <React.Fragment>\r\n                            <ActionBtn\r\n                                tweet={actionTweet}\r\n                                didPerformAction={handlePerformAction}\r\n                                action={{ type: \"like\", display: \"Likes\" }}\r\n                            />\r\n                            <ActionBtn\r\n                                tweet={actionTweet}\r\n                                didPerformAction={handlePerformAction}\r\n                                action={{ type: \"unlike\", display: \"Unlike\" }}\r\n                            />\r\n                            <ActionBtn\r\n                                tweet={actionTweet}\r\n                                didPerformAction={handlePerformAction}\r\n                                action={{ type: \"retweet\", display: \"Retweet\" }}\r\n                            />\r\n                        </React.Fragment>}\r\n                        {isDetail === true ? null : <button className=\"btn btn-outline-primary btn-sm\" onClick={handleLink}>View</button>}\r\n                    </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, {useEffect, useState} from 'react'\r\nimport {apiTweetList} from './lookup'\r\nimport {Tweet} from './detail'\r\n\r\nexport function TweetsList(props) {\r\n    const [tweetsInit, setTweetsInit] = useState([]);\r\n    const [tweets, setTweets] = useState([]);\r\n    const [tweetsDidSet, setTweetsDidSet] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const final = [...props.newTweets].concat(tweetsInit);\r\n        if (final.length !== tweets.length) {\r\n            setTweets(final);\r\n        }\r\n    }, [props.newTweets, tweets, tweetsInit]);\r\n\r\n    useEffect(() => {\r\n        if (tweetsDidSet === false) {\r\n            const handleTweetListLookup = (response, status) => {\r\n                // console.log(response, status)\r\n                if (status === 200) {\r\n                    setTweetsInit(response);\r\n                    setTweetsDidSet(true);\r\n                } else {\r\n                    alert(\"There was an error!\");\r\n                }\r\n            };\r\n            apiTweetList(props.username, handleTweetListLookup);\r\n        }\r\n    }, [tweetsInit, tweetsDidSet, setTweetsDidSet, props.username]);\r\n\r\n    const handleDidRetweet = (newTweet) => {\r\n        const updateTweetsInit= [...tweetsInit]\r\n        updateTweetsInit.unshift(newTweet)\r\n        setTweetsInit(updateTweetsInit)\r\n        const updateFinalTweets = [...tweets]\r\n        updateFinalTweets.unshift(tweets)\r\n        setTweets(updateFinalTweets)\r\n    }\r\n    return tweets.map((item, index) => {\r\n        return (\r\n            <Tweet\r\n                tweet={item}\r\n                didRetweet={handleDidRetweet}\r\n                key={`${index}-{item.id}`}\r\n                className=\"col-12 col-md-10 mx-auto mb-4 tweet border rounded py-3\"\r\n            />\r\n        );\r\n    });\r\n}","import React from \"react\"; \r\n\r\nimport { apiTweetCreate } from \"./lookup\";\r\n\r\nexport function TweetCreate(props) {\r\n    console.log(props);\r\n    // const {username} = props\r\n    // createRef will allow to get value of textarea\r\n    const textAreaRef = React.createRef();\r\n    const {didTweet} = props\r\n    // const [newTweets, setNewTweets] = useState([]);\r\n    \r\n    // const canTweet = props.canTweet === 'false' ? false : true\r\n    const handleBackendUpdate = (response, status) => {\r\n        // backend api response handler\r\n        // let tempNewTweets = [...newTweets];\r\n        if (status === 201) {\r\n            // push sends to end of array, unshift to top of array\r\n            // tempNewTweets.unshift(response);\r\n            didTweet(response);\r\n        } else {\r\n            console.log(response);\r\n            alert(\"An error occurred please try again.\");\r\n        }\r\n    };\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        console.log(event);\r\n        const newVal = textAreaRef.current.value;\r\n        // backend api request\r\n        apiTweetCreate(newVal, handleBackendUpdate);\r\n        textAreaRef.current.value = \"\";\r\n    };\r\n\r\n    return (\r\n        <div className={props.className}>\r\n            <form onSubmit={handleSubmit}>\r\n                <textarea\r\n                    ref={textAreaRef}\r\n                    required={true}\r\n                    className=\"form-control\"\r\n                    name=\"tweet\"\r\n                ></textarea>\r\n                <button type=\"submit\" className=\"btn btn-primary my-3\">\r\n                    Tweet\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport {TweetsList} from './list' \r\nimport {apiTweetDetail} from './lookup'\r\nimport {Tweet} from './detail'\r\n\r\nimport {TweetCreate} from './create'\r\n\r\nexport function TweetsComponent(props) {\r\n    const [newTweets, setNewTweets] = useState([])\r\n    const canTweet = props.canTweet === 'false' ? false : true\r\n    const handleNewTweet = (newTweet) => {\r\n        let tempNewTweets = [...newTweets]\r\n        tempNewTweets.unshift(newTweet)\r\n        setNewTweets(tempNewTweets)\r\n    }\r\n\r\n    return <div className={props.className}>\r\n        {canTweet === true && <TweetCreate didTweet={handleNewTweet} className='col-12 mb-3' />}\r\n        <TweetsList newTweets={newTweets} {...props}/>\r\n    </div>\r\n}\r\n\r\nexport function TweetDetailComponent(props) {\r\n    const {tweetId} = props\r\n    const [didLookup, setDidLookup] = useState(false)\r\n    const [tweet, setTweet] = useState(null)\r\n    \r\n    const handleBackendLookup = (response, status) => {\r\n        if (status === 200) {\r\n            setTweet(response)\r\n        } else {\r\n            alert('There was an error finding your tweet.')\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        if (didLookup === false) {\r\n            apiTweetDetail(tweetId, handleBackendLookup)\r\n            setDidLookup(true)\r\n        }\r\n\r\n    }, [didLookup, setDidLookup])\r\n\r\n    return tweet === null ? null : <Tweet tweet={tweet} className={props.className}/>\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n// import App from \"./App\";\nimport { TweetsComponent, TweetDetailComponent } from \"./tweets\";\nimport reportWebVitals from \"./reportWebVitals\";\n\n// ReactDOM.render(\n//     <React.StrictMode>\n//         <App />\n//     </React.StrictMode>,\n//     document.getElementById(\"root\")\n// );\n// lines below help to be able to use attributes from index.html div\nconst e = React.createElement\nconst tweetsEl = document.getElementById(\"tweetme-2\");\nif (tweetsEl) {\n    console.log(tweetsEl.dataset)\n    ReactDOM.render(e(TweetsComponent, tweetsEl.dataset),\n        tweetsEl\n    );\n}\n\nconst tweetDetailElements = document.querySelectorAll('.tweetme-2-detail')\n\ntweetDetailElements.forEach(container => {\n    ReactDOM.render(e(TweetDetailComponent, container.dataset),\n        container\n    );\n})\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}