{"version":3,"sources":["lookup/components.js","tweets/lookup.js","tweets/buttons.js","profiles/components.js","tweets/detail.js","tweets/list.js","tweets/feed.js","tweets/create.js","tweets/components.js","reportWebVitals.js","index.js"],"names":["backendLookup","method","endpoint","callback","data","jsonData","JSON","stringify","xhr","XMLHttpRequest","url","responseType","open","csrftoken","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","setRequestHeader","onload","status","response","detail","window","location","href","indexOf","onerror","e","console","log","message","send","apiTweetList","username","nextUrl","undefined","replace","apiTweetFeed","ActionBtn","props","tweet","action","didPerformAction","likes","className","actionDisplay","display","type","handleActionBackendEvent","onClick","event","preventDefault","tweetId","id","apiTweetAction","UserLink","children","UserDisplay","user","nameDisplay","includeFullName","first_name","last_name","Fragment","UserPicture","ParentTweet","parent","Tweet","isRetweet","retweeter","hideActions","didRetweet","useState","actionTweet","setActionTweet","match","pathname","urlTweetId","groups","tweetid","isDetail","handlePerformAction","newActionTweet","content","TweetsList","tweetsInit","setTweetsInit","tweets","setTweets","setNextUrl","tweetsDidSet","setTweetsDidSet","useEffect","final","newTweets","concat","next","results","alert","handleDidRetweet","newTweet","updateTweetsInit","unshift","updateFinalTweets","map","item","index","FeedList","TweetCreate","textAreaRef","React","createRef","didTweet","handleBackendUpdate","onSubmit","newVal","current","value","ref","required","TweetDetailComponent","didLookup","setDidLookup","setTweet","handleBackendLookup","apiTweetDetail","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","createElement","tweetsEl","getElementById","dataset","ReactDOM","render","setNewTweets","canTweet","tempNewTweets","tweetFeedEl","querySelectorAll","forEach","container"],"mappings":"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","file":"static/js/main.7abd1d07.chunk.js","sourcesContent":["function getCookie(name) {\r\n    let cookieValue = null;\r\n    if (document.cookie && document.cookie !== '') {\r\n        const cookies = document.cookie.split(';');\r\n        for (let i = 0; i < cookies.length; i++) {\r\n            const cookie = cookies[i].trim();\r\n            // Does this cookie string begin with the name we want?\r\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return cookieValue;\r\n}\r\n\r\nexport function backendLookup(method, endpoint, callback, data) {\r\n    let jsonData;\r\n    if (data) {\r\n        jsonData = JSON.stringify(data)\r\n    }\r\n    // New instance of class\r\n    const xhr = new XMLHttpRequest(); // like python, xhr = new SomeClass()\r\n    \r\n    const url = `http://localhost:8000/api${endpoint}`;\r\n\r\n    xhr.responseType = 'json';\r\n    xhr.open(method, url);\r\n    const csrftoken = getCookie('csrftoken');\r\n    xhr.setRequestHeader('Content-Type', 'application/json')\r\n    if (csrftoken) {\r\n        // xhr.setRequestHeader('HTTP_X_REQUESTED_WITH', 'XMLHttpRequest')\r\n        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest')\r\n        xhr.setRequestHeader('X-CSRFToken', csrftoken)\r\n    }\r\n    xhr.onload = function () {\r\n        if (xhr.status === 403) {\r\n            const detail = xhr.response.detail\r\n            if (detail === 'Authentication credentials were not provided.') {\r\n                if (window.location.href.indexOf('login') === -1) {\r\n                    window.location.href = '/login?showLoginRequired=true'\r\n                }\r\n            }\r\n        }\r\n        callback(xhr.response, xhr.status);\r\n    };\r\n    xhr.onerror = function (e) {\r\n        console.log('error', e);\r\n        callback({ message: \"The request was an error.\" }, 400);\r\n    };\r\n    // console.log(jsonData);\r\n    xhr.send(jsonData);\r\n}\r\n\r\n","import {backendLookup} from '../lookup'\r\n\r\nexport function apiTweetCreate(newTweet, callback) {\r\n    backendLookup('POST', '/tweets/create/', callback, {content: newTweet})\r\n}\r\n\r\nexport function apiTweetAction(tweetId, action, callback) {\r\n    const data = {id: tweetId, action: action}\r\n    backendLookup('POST', '/tweets/action/', callback, data)\r\n}\r\n\r\nexport function apiTweetDetail(tweetId, callback) {\r\n    backendLookup('GET', `/tweets/${tweetId}`, callback)\r\n}\r\n\r\nexport function apiTweetList(username, callback, nextUrl) {\r\n    let endpoint = '/tweets/'\r\n    if (username) {\r\n        endpoint = `/tweets/?username=${username}`\r\n    }\r\n    if (nextUrl !== null && nextUrl !== undefined) {\r\n        // replacing http://localhost:8000/api with empty string('')\r\n        endpoint = nextUrl.replace('http://localhost:8000/api', '')\r\n    }\r\n    backendLookup('GET', endpoint, callback)\r\n}\r\n\r\nexport function apiTweetFeed(callback, nextUrl) {\r\n    let endpoint = '/tweets/feed/'\r\n    if (nextUrl !== null && nextUrl !== undefined) {\r\n        // replacing http://localhost:8000/api with empty string('')\r\n        endpoint = nextUrl.replace('http://localhost:8000/api', '')\r\n    }\r\n    backendLookup('GET', endpoint, callback)\r\n}","import React from \"react\";\r\n\r\nimport { apiTweetAction } from \"./lookup\";\r\n\r\nexport function ActionBtn(props) {\r\n    const { tweet, action, didPerformAction } = props;\r\n    const likes = tweet.likes ? tweet.likes : 0\r\n    // remember likes is variable and setLikes is to update variable\r\n    // const [likes, setLikes] = useState(tweet.likes ? tweet.likes : 0);\r\n    // const [userLike, setUserLike] = useState(tweet.userLike === true ? true : false);\r\n    const className = props.className\r\n        ? props.className\r\n        : \"btn btn-primary btn-sm\";\r\n    // if action.display then show action.display else show 'Action'\r\n    const actionDisplay = action.display ? action.display : \"Action\";\r\n    // if action type = 'like' show tweet likes actionDisplay, else show actionDisplay\r\n    const display =\r\n        action.type === \"like\" ? `${likes} ${actionDisplay}` : actionDisplay;\r\n    const handleActionBackendEvent = (response, status) => {\r\n        console.log(response, status);\r\n        if ((status === 200 || status === 201) && didPerformAction) {\r\n            // setLikes(response.likes);\r\n            didPerformAction(response, status)\r\n            // setUserLike(true)\r\n        }\r\n    };\r\n    const handleClick = (event) => {\r\n        event.preventDefault();\r\n        apiTweetAction(tweet.id, action.type, handleActionBackendEvent);\r\n    };\r\n    return (\r\n        <button className={className} onClick={handleClick}>\r\n            {display}\r\n        </button>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport function UserLink (props) {\r\n    const {username} = props\r\n\r\n    const handleUserLink = (event) => {\r\n        window.location.href = `/profile/${username}`\r\n    }\r\n    return <span className='pointer' onClick={handleUserLink}>\r\n        {props.children}\r\n    </span>\r\n}\r\n\r\nexport function UserDisplay (props) {\r\n    const {user, includeFullName} = props\r\n    const nameDisplay = includeFullName === true ? `${user.first_name} ${user.last_name} ` : null\r\n\r\n    return <React.Fragment>\r\n        {nameDisplay} \r\n        <UserLink username={user.username}>@{user.username}</UserLink>\r\n    </React.Fragment>\r\n}\r\n\r\nexport function UserPicture (props) {\r\n    const {user} = props;\r\n    return <UserLink username={user.username}><span className=\"mx-1 px-3 py-2 rounded-circle bg-dark text-white\">\r\n        {user.username[0]}\r\n    </span></UserLink>\r\n}","import React, { useState } from \"react\";\r\nimport { ActionBtn } from \"./buttons\";\r\nimport {UserDisplay, UserPicture} from '../profiles'\r\n\r\n\r\nexport function ParentTweet(props) {\r\n    const { tweet } = props;\r\n    return (\r\n        <>\r\n            {tweet.parent ? \r\n                <Tweet isRetweet retweeter={props.retweeter} hideActions className={\" \"} tweet={tweet.parent} /> : null}\r\n        </>\r\n    );\r\n}\r\n\r\nexport function Tweet(props) {\r\n    const { tweet, didRetweet, hideActions, isRetweet, retweeter } = props;\r\n    const [actionTweet, setActionTweet] = useState(\r\n        props.tweet ? props.tweet : null\r\n    );\r\n    let className = props.className\r\n        ? props.className\r\n        : \"col-10 mx-auto col-md-6\";\r\n    className = isRetweet === true ? `${className} p-2 border rounded` : className\r\n    const path = window.location.pathname;\r\n    const match = path.match(/(?<tweetid>\\d+)/);\r\n    const urlTweetId = match ? match.groups.tweetid : -1;\r\n\r\n    const isDetail = `${tweet.id}` === `${urlTweetId}`;\r\n    const handleLink = (event) => {\r\n        event.preventDefault();\r\n        window.location.href = `/${tweet.id}`;\r\n    };\r\n    const handlePerformAction = (newActionTweet, status) => {\r\n        if (status === 200) {\r\n            setActionTweet(newActionTweet);\r\n        } else if (status === 201) {\r\n            // let the tweet list know.\r\n            if (didRetweet) {\r\n                didRetweet(newActionTweet);\r\n            }\r\n        }\r\n    };\r\n    return (\r\n        <>\r\n            <div className={className}>\r\n                {isRetweet === true && \r\n                    <div className='mb-2'>\r\n                        <span className='small text-muted'>Retweet via <UserDisplay user={retweeter}/></span>\r\n                    </div>}\r\n                <div className=\"d-flex\">\r\n                    <div className=\"col-1\">\r\n                        <UserPicture user={tweet.user} />\r\n                    </div>\r\n                    <div className=\"col-11\">\r\n                        <div>\r\n                            <p>\r\n                            <UserDisplay includeFullName user={tweet.user}/>\r\n                            </p>\r\n                            <p>{tweet.content}</p>\r\n                            <ParentTweet tweet={tweet} retweeter={tweet.user} />\r\n                        </div>\r\n                        {/* if actionTweet and hideActions are not = to true then hide the buttons */}\r\n                        <div className=\"btn btn-group px-0\">\r\n                            {actionTweet && hideActions !== true && (\r\n                                <React.Fragment>\r\n                                    <ActionBtn\r\n                                        tweet={actionTweet}\r\n                                        didPerformAction={handlePerformAction}\r\n                                        action={{\r\n                                            type: \"like\",\r\n                                            display: \"Likes\",\r\n                                        }}\r\n                                    />\r\n                                    <ActionBtn\r\n                                        tweet={actionTweet}\r\n                                        didPerformAction={handlePerformAction}\r\n                                        action={{\r\n                                            type: \"unlike\",\r\n                                            display: \"Unlike\",\r\n                                        }}\r\n                                    />\r\n                                    <ActionBtn\r\n                                        tweet={actionTweet}\r\n                                        didPerformAction={handlePerformAction}\r\n                                        action={{\r\n                                            type: \"retweet\",\r\n                                            display: \"Retweet\",\r\n                                        }}\r\n                                    />\r\n                                </React.Fragment>\r\n                            )}\r\n                            {isDetail === true ? null : (\r\n                                <button\r\n                                    className=\"btn btn-outline-primary btn-sm\"\r\n                                    onClick={handleLink}\r\n                                >\r\n                                    View\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, {useEffect, useState} from 'react'\r\nimport {apiTweetList} from './lookup'\r\nimport {Tweet} from './detail'\r\n\r\nexport function TweetsList(props) {\r\n    const [tweetsInit, setTweetsInit] = useState([]);\r\n    const [tweets, setTweets] = useState([]);\r\n    // useState is set to null because next url will eventually become null\r\n    const [nextUrl, setNextUrl] = useState(null)\r\n    const [tweetsDidSet, setTweetsDidSet] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const final = [...props.newTweets].concat(tweetsInit);\r\n        if (final.length !== tweets.length) {\r\n            setTweets(final);\r\n        }\r\n    }, [props.newTweets, tweets, tweetsInit]);\r\n\r\n    useEffect(() => {\r\n        if (tweetsDidSet === false) {\r\n            const handleTweetListLookup = (response, status) => {\r\n                // console.log(response, status)\r\n                if (status === 200) {\r\n                    setNextUrl(response.next)\r\n                    setTweetsInit(response.results);\r\n                    setTweetsDidSet(true);\r\n                } else {\r\n                    alert(\"There was an error!\");\r\n                }\r\n            };\r\n            apiTweetList(props.username, handleTweetListLookup);\r\n        }\r\n    }, [tweetsInit, tweetsDidSet, setTweetsDidSet, props.username]);\r\n\r\n    const handleDidRetweet = (newTweet) => {\r\n        const updateTweetsInit= [...tweetsInit]\r\n        updateTweetsInit.unshift(newTweet)\r\n        setTweetsInit(updateTweetsInit)\r\n        const updateFinalTweets = [...tweets]\r\n        updateFinalTweets.unshift(tweets)\r\n        setTweets(updateFinalTweets)\r\n    }\r\n    const handleLoadNext = (event) => {\r\n        event.preventDefault()\r\n        if (nextUrl !== null) {\r\n            const handleLoadNextResponse = (response, status) => {\r\n                if (status === 200) {\r\n                    setNextUrl(response.next)\r\n                    const newTweets = [...tweets].concat(response.results)\r\n                    setTweetsInit(newTweets);\r\n                    setTweets(newTweets);\r\n                } else {\r\n                    alert(\"There was an error!\");\r\n                }\r\n            }\r\n            apiTweetList(props.username, handleLoadNextResponse, nextUrl)\r\n            console.log('nextUrl', nextUrl)\r\n            console.log('next response');\r\n        }\r\n    }\r\n    return <React.Fragment>\r\n        {tweets.map((item, index) => {\r\n            return (\r\n                <Tweet\r\n                    tweet={item}\r\n                    didRetweet={handleDidRetweet}\r\n                    key={`${index}-{item.id}`}\r\n                    className=\"col-12 col-md-10 mx-auto mb-4 tweet border rounded py-3\"\r\n                />\r\n            );\r\n        })}\r\n        {nextUrl !== null && <button onClick={handleLoadNext} className='btn btn-outline-primary'>Load next</button>}\r\n    </React.Fragment>\r\n}","import React, {useEffect, useState} from 'react'\r\nimport {apiTweetFeed} from './lookup'\r\nimport {Tweet} from './detail'\r\n\r\nexport function FeedList(props) {\r\n    const [tweetsInit, setTweetsInit] = useState([]);\r\n    const [tweets, setTweets] = useState([]);\r\n    // useState is set to null because next url will eventually become null\r\n    const [nextUrl, setNextUrl] = useState(null)\r\n    const [tweetsDidSet, setTweetsDidSet] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const final = [...props.newTweets].concat(tweetsInit);\r\n        if (final.length !== tweets.length) {\r\n            setTweets(final);\r\n        }\r\n    }, [props.newTweets, tweets, tweetsInit]);\r\n\r\n    useEffect(() => {\r\n        if (tweetsDidSet === false) {\r\n            const handleTweetListLookup = (response, status) => {\r\n                // console.log(response, status)\r\n                if (status === 200) {\r\n                    setNextUrl(response.next)\r\n                    setTweetsInit(response.results);\r\n                    setTweetsDidSet(true);\r\n                } else {\r\n                    alert(\"There was an error!\");\r\n                }\r\n            };\r\n            apiTweetFeed(handleTweetListLookup);\r\n        }\r\n    }, [tweetsInit, tweetsDidSet, setTweetsDidSet, props.username]);\r\n\r\n    const handleDidRetweet = (newTweet) => {\r\n        const updateTweetsInit= [...tweetsInit]\r\n        updateTweetsInit.unshift(newTweet)\r\n        setTweetsInit(updateTweetsInit)\r\n        const updateFinalTweets = [...tweets]\r\n        updateFinalTweets.unshift(tweets)\r\n        setTweets(updateFinalTweets)\r\n    }\r\n    const handleLoadNext = (event) => {\r\n        event.preventDefault()\r\n        if (nextUrl !== null) {\r\n            const handleLoadNextResponse = (response, status) => {\r\n                if (status === 200) {\r\n                    setNextUrl(response.next)\r\n                    const newTweets = [...tweets].concat(response.results)\r\n                    setTweetsInit(newTweets);\r\n                    setTweets(newTweets);\r\n                } else {\r\n                    alert(\"There was an error!\");\r\n                }\r\n            }\r\n            apiTweetFeed(handleLoadNextResponse, nextUrl)\r\n            console.log('nextUrl', nextUrl)\r\n            console.log('next response');\r\n        }\r\n    }\r\n    return <React.Fragment>\r\n        {tweets.map((item, index) => {\r\n            return (\r\n                <Tweet\r\n                    tweet={item}\r\n                    didRetweet={handleDidRetweet}\r\n                    key={`${index}-{item.id}`}\r\n                    className=\"col-12 col-md-10 mx-auto mb-4 tweet border rounded py-3\"\r\n                />\r\n            );\r\n        })}\r\n        {nextUrl !== null && <button onClick={handleLoadNext} className='btn btn-outline-primary'>Load next</button>}\r\n    </React.Fragment>\r\n}","import React from \"react\"; \r\n\r\nimport { apiTweetCreate } from \"./lookup\";\r\n\r\nexport function TweetCreate(props) {\r\n    console.log(props);\r\n    // const {username} = props\r\n    // createRef will allow to get value of textarea\r\n    const textAreaRef = React.createRef();\r\n    const {didTweet} = props\r\n    // const [newTweets, setNewTweets] = useState([]);\r\n    \r\n    // const canTweet = props.canTweet === 'false' ? false : true\r\n    const handleBackendUpdate = (response, status) => {\r\n        // backend api response handler\r\n        // let tempNewTweets = [...newTweets];\r\n        if (status === 201) {\r\n            // push sends to end of array, unshift to top of array\r\n            // tempNewTweets.unshift(response);\r\n            didTweet(response);\r\n        } else {\r\n            console.log(response);\r\n            alert(\"An error occurred please try again.\");\r\n        }\r\n    };\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        console.log(event);\r\n        const newVal = textAreaRef.current.value;\r\n        // backend api request\r\n        apiTweetCreate(newVal, handleBackendUpdate);\r\n        textAreaRef.current.value = \"\";\r\n    };\r\n\r\n    return (\r\n        <div className={props.className}>\r\n            <form onSubmit={handleSubmit}>\r\n                <textarea\r\n                    ref={textAreaRef}\r\n                    required={true}\r\n                    className=\"form-control\"\r\n                    name=\"tweet\"\r\n                ></textarea>\r\n                <button type=\"submit\" className=\"btn btn-primary my-3\">\r\n                    Tweet\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { TweetsList } from \"./list\";\r\nimport { apiTweetDetail } from \"./lookup\";\r\nimport { Tweet } from \"./detail\";\r\nimport { FeedList } from \"./feed\";\r\nimport { TweetCreate } from \"./create\";\r\n\r\nexport function FeedComponent(props) {\r\n    const [newTweets, setNewTweets] = useState([]);\r\n    const canTweet = props.canTweet === \"false\" ? false : true;\r\n    const handleNewTweet = (newTweet) => {\r\n        let tempNewTweets = [...newTweets];\r\n        tempNewTweets.unshift(newTweet);\r\n        setNewTweets(tempNewTweets);\r\n    };\r\n\r\n    return (\r\n        <div className={props.className}>\r\n            {canTweet === true && (\r\n                <TweetCreate\r\n                    didTweet={handleNewTweet}\r\n                    className=\"col-12 mb-3\"\r\n                />\r\n            )}\r\n            <FeedList newTweets={newTweets} {...props} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function TweetsComponent(props) {\r\n    const [newTweets, setNewTweets] = useState([]);\r\n    const canTweet = props.canTweet === \"false\" ? false : true;\r\n    const handleNewTweet = (newTweet) => {\r\n        let tempNewTweets = [...newTweets];\r\n        tempNewTweets.unshift(newTweet);\r\n        setNewTweets(tempNewTweets);\r\n    };\r\n\r\n    return (\r\n        <div className={props.className}>\r\n            {canTweet === true && (\r\n                <TweetCreate\r\n                    didTweet={handleNewTweet}\r\n                    className=\"col-12 mb-3\"\r\n                />\r\n            )}\r\n            <TweetsList newTweets={newTweets} {...props} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function TweetDetailComponent(props) {\r\n    const { tweetId } = props;\r\n    const [didLookup, setDidLookup] = useState(false);\r\n    const [tweet, setTweet] = useState(null);\r\n\r\n    const handleBackendLookup = (response, status) => {\r\n        if (status === 200) {\r\n            setTweet(response);\r\n        } else {\r\n            alert(\"There was an error finding your tweet.\");\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        if (didLookup === false) {\r\n            apiTweetDetail(tweetId, handleBackendLookup);\r\n            setDidLookup(true);\r\n        }\r\n    }, [didLookup, setDidLookup]);\r\n\r\n    return tweet === null ? null : (\r\n        <Tweet tweet={tweet} className={props.className} />\r\n    );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n// import App from \"./App\";\nimport { FeedComponent, TweetsComponent, TweetDetailComponent } from \"./tweets\";\nimport reportWebVitals from \"./reportWebVitals\";\n\n// ReactDOM.render(\n//     <React.StrictMode>\n//         <App />\n//     </React.StrictMode>,\n//     document.getElementById(\"root\")\n// );\n// lines below help to be able to use attributes from index.html div\nconst e = React.createElement\nconst tweetsEl = document.getElementById(\"tweetme-2\");\nif (tweetsEl) {\n    console.log(tweetsEl.dataset)\n    ReactDOM.render(e(TweetsComponent, tweetsEl.dataset),\n        tweetsEl\n    );\n}\n\nconst tweetFeedEl = document.getElementById(\"tweetme-2-feed\");\nif (tweetFeedEl) {\n    ReactDOM.render(e(FeedComponent, tweetFeedEl.dataset),\n        tweetFeedEl\n    );\n}\n\nconst tweetDetailElements = document.querySelectorAll('.tweetme-2-detail')\n\ntweetDetailElements.forEach(container => {\n    ReactDOM.render(e(TweetDetailComponent, container.dataset),\n        container\n    );\n})\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}